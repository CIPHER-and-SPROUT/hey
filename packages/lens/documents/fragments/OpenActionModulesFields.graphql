fragment OpenActionModulesFields on OpenActionModule {
  ... on SimpleCollectOpenActionSettings {
    type
    contract {
      ...NetworkAddressFields
    }
    optionalAmount: amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    optionalCollectLimit: collectLimit
    followerOnly
    recipient
    referralFee
    collectNft
    optionalEndsAt: endsAt
  }
  ... on MultirecipientFeeCollectOpenActionSettings {
    type
    contract {
      ...NetworkAddressFields
    }
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    optionalCollectLimit: collectLimit
    referralFee
    followerOnly
    collectNft
    optionalEndsAt: endsAt
    recipients {
      recipient
      split
    }
  }
  ... on LegacyFreeCollectModuleSettings {
    type
    contract {
      ...NetworkAddressFields
    }
    collectNft
    followerOnly
  }
  ... on LegacyFeeCollectModuleSettings {
    type
    collectNft
    contract {
      ...NetworkAddressFields
    }
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    recipient
    referralFee
    followerOnly
  }
  ... on LegacyLimitedFeeCollectModuleSettings {
    type
    collectNft
    contract {
      ...NetworkAddressFields
    }
    collectLimit
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    recipient
    referralFee
    followerOnly
  }
  ... on LegacyLimitedTimedFeeCollectModuleSettings {
    type
    collectNft
    contract {
      ...NetworkAddressFields
    }
    collectLimit
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    recipient
    referralFee
    followerOnly
    endTimestamp
  }
  ... on LegacyRevertCollectModuleSettings {
    type
    contract {
      ...NetworkAddressFields
    }
  }
  ... on LegacyTimedFeeCollectModuleSettings {
    type
    collectNft
    contract {
      ...NetworkAddressFields
    }
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    recipient
    referralFee
    followerOnly
    endTimestamp
  }
  ... on LegacyMultirecipientFeeCollectModuleSettings {
    type
    collectNft
    contract {
      ...NetworkAddressFields
    }
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    optionalCollectLimit: collectLimit
    referralFee
    followerOnly
    optionalEndsAt: endsAt
    recipients {
      recipient
      split
    }
  }
  ... on LegacySimpleCollectModuleSettings {
    type
    collectNft
    contract {
      ...NetworkAddressFields
    }
    optionalAmount: amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    optionalCollectLimit: collectLimit
    followerOnly
    recipient
    referralFee
    optionalEndsAt: endsAt
  }
  ... on LegacyERC4626FeeCollectModuleSettings {
    type
    contract {
      ...NetworkAddressFields
    }
    vault {
      ...NetworkAddressFields
    }
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    recipient
    optionalCollectLimit: collectLimit
    referralFee
    followerOnly
    optionalEndsAt: endsAt
  }
  ... on LegacyAaveFeeCollectModuleSettings {
    type
    contract {
      ...NetworkAddressFields
    }
    amount {
      ...AmountFields
      rate(request: { for: USD }) {
        ...FiatAmountFields
      }
    }
    optionalCollectLimit: collectLimit
    referralFee
    followerOnly
    optionalEndsAt: endsAt
    recipient
  }
  ... on UnknownOpenActionModuleSettings {
    type
    collectNft
    contract {
      ...NetworkAddressFields
    }
    openActionModuleReturnData
  }
}
